{"version":3,"sources":["components/MovieCard/MovieCard.tsx","img/360x270.png","components/MoviesList/MoviesList.tsx","api.ts","components/FindMovie/FindMovie.tsx","App.tsx","index.tsx"],"names":["MovieCard","film","className","src","Poster","alt","Title","Plot","MoviesList","list","map","movie","imdbID","API_URL","query","a","fetch","res","json","result","response","Error","statusText","FindMovie","setFilm","setList","useState","search","setSearch","error","setError","loading","setLoading","handleSubmit","getMovie","then","undefined","finally","onSubmit","e","preventDefault","htmlFor","type","id","placeholder","onChange","target","value","disabled","onClick","find","el","prev","App","length","ReactDOM","render","document","getElementById"],"mappings":"uTASaA,EAA6B,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAC3C,OACE,qBAAKC,UAAU,OAAO,UAAQ,YAA9B,SAEa,OAATD,GACE,qCACE,qBAAKC,UAAU,aAAf,SACE,wBAAQA,UAAU,gBAAlB,SACE,qBACE,UAAQ,cACRC,IACkB,QAAhBF,EAAKG,OCpBV,iyCDoBK,OAEIH,QAFJ,IAEIA,OAFJ,EAEIA,EAAMG,OAEZC,IAAI,kBAIV,sBAAKH,UAAU,eAAf,UACE,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,aAAf,SACE,wBAAQA,UAAU,iBAAlB,SACE,qBACEC,IAAI,wBACJE,IAAI,aAIV,qBAAKH,UAAU,gBAAf,SACE,mBACEA,UAAU,aACV,UAAQ,aAFV,SAIGD,EAAKK,aAKZ,sBAAKJ,UAAU,UAAU,UAAQ,mBAAjC,UACGD,EAAKM,KACN,mCEzCHC,EAA8B,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACzC,qBAAKP,UAAU,SAAf,SACGO,EAAKC,KAAI,SAAAC,GAAK,OACb,cAAC,EAAD,CAEEV,KAAMU,GADDA,EAAMC,c,8BCXbC,EAAU,2C,4CAET,WAAwBC,GAAxB,iBAAAC,EAAA,sEACaC,MAAM,GAAD,OAAIH,EAAJ,cAAiBC,IADnC,cACCG,EADD,gBAEgBA,EAAIC,OAFpB,UAImB,WAFlBC,EAFD,QAIMC,SAJN,sBAKG,IAAIC,MAAJ,UAAaF,EAAOG,aALvB,gCAQEH,GARF,4C,gCCSMI,EAA6B,SAAC,GAOrC,IALFC,EAKC,EALDA,QACAvB,EAIC,EAJDA,KACAwB,EAGC,EAHDA,QACAhB,EAEC,EAFDA,KAGF,EAA4BiB,mBAAiB,IAA7C,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA0BF,oBAAS,GAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KAEMC,EAAe,WACnBD,GAAW,GACI,KAAXL,GDvBD,SAAP,kCC2BIO,CAASP,GACNQ,MAAK,SAAAlB,QACemB,KAAZ,OAAHnB,QAAG,IAAHA,OAAA,EAAAA,EAAKX,OACPwB,GAAS,GAETN,EAAQP,MAGXoB,SAAQ,WACPL,GAAW,OAIjB,OACE,qCACE,uBACE9B,UAAU,aACVoC,SAAU,SAACC,GACTA,EAAEC,iBACFP,KAJJ,UAOE,sBAAK/B,UAAU,QAAf,UACE,uBAAOA,UAAU,QAAQuC,QAAQ,cAAjC,yBAIA,qBAAKvC,UAAU,UAAf,SACE,uBACE,UAAQ,aACRwC,KAAK,OACLC,GAAG,cACHC,YAAY,0BACZ1C,UAAU,kBACV2C,SAAU,SAACN,GACTT,GAAS,GACTF,EAAUW,EAAEO,OAAOC,QAErBA,MAAOpB,MAITE,GAEE,mBAAG3B,UAAU,iBAAiB,UAAQ,eAAtC,qDAON,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,UAAf,SACE,wBACE,UAAQ,eACRwC,KAAK,SACLxC,UAAS,iBAAuB,KAAXyB,GAAiB,WAA7B,YAA2CI,GAAW,cAC/DiB,SAAqB,KAAXrB,EAJZ,4BAUS,OAAT1B,GACE,qBAAKC,UAAU,UAAf,SACE,wBACE,UAAQ,YACRwC,KAAK,SACLxC,UAAU,oBACV+C,QAAS,WACFxC,EAAKyC,MAAK,SAAAC,GAAE,OAAIA,EAAGvC,SAAWX,EAAKW,WACtCa,GAAQ,SAAC2B,GAAD,4BAAcA,GAAd,CAAoBnD,OAG9BuB,EAAQ,MACRI,EAAU,KAVd,qCAqBV,sBAAK1B,UAAU,YAAY,UAAQ,mBAAnC,UACE,oBAAIA,UAAU,QAAd,qBAEW,OAATD,GACE,cAAC,EAAD,CAAWA,KAAMA,WCnHhBoD,EAAM,WACjB,MAAwB3B,mBAAuB,IAA/C,mBAAOjB,EAAP,KAAagB,EAAb,KACA,EAAwBC,mBAA2B,MAAnD,mBAAOzB,EAAP,KAAauB,EAAb,KAEA,OACE,sBAAKtB,UAAU,OAAf,UACE,qBAAKA,UAAU,eAAf,SAEIO,EAAK6C,OAAS,GACV,cAAC,EAAD,CAAY7C,KAAMA,MAK1B,qBAAKP,UAAU,UAAf,SACE,cAAC,EAAD,CACEsB,QAASA,EACTvB,KAAMA,EACNwB,QAASA,EACThB,KAAMA,UCrBhB8C,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.106cd351.chunk.js","sourcesContent":["import React from 'react';\nimport { MovieData } from '../../types/MovieData';\nimport './MovieCard.scss';\nimport image from '../../img/360x270.png';\n\ntype Props = {\n  film: MovieData | null,\n};\n\nexport const MovieCard: React.FC<Props> = ({ film }) => {\n  return (\n    <div className=\"card\" data-cy=\"movieCard\">\n      {\n        film !== null && (\n          <>\n            <div className=\"card-image\">\n              <figure className=\"image is-4by3\">\n                <img\n                  data-cy=\"moviePoster\"\n                  src={\n                    film.Poster === 'N/A'\n                      ? image\n                      : film?.Poster\n                  }\n                  alt=\"Film logo\"\n                />\n              </figure>\n            </div>\n            <div className=\"card-content\">\n              <div className=\"media\">\n                <div className=\"media-left\">\n                  <figure className=\"image is-48x48\">\n                    <img\n                      src=\"images/imdb-logo.jpeg\"\n                      alt=\"imdb\"\n                    />\n                  </figure>\n                </div>\n                <div className=\"media-content\">\n                  <p\n                    className=\"title is-8\"\n                    data-cy=\"movieTitle\"\n                  >\n                    {film.Title}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"content\" data-cy=\"movieDescription\">\n                {film.Plot}\n                <br />\n                {/* <a href={movie.imdbUrl} data-cy=\"movieURL\">\n                  IMDB\n                </a> */}\n              </div>\n            </div>\n          </>\n        )\n      }\n    </div>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAEOBAMAAABWZpChAAAAG1BMVEXMzMyWlpacnJzFxcWqqqq+vr63t7ejo6OxsbE1c3ETAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADT0lEQVR4nO3YT4/aRhjH8WeNDRx5DMY+2vnT9IhXfQFLotyxVKlXyCHKEW9SKcd1ekhedp9nbOjSJJdIMar6/UQL+NkJ+c14ZhgiAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGvT8toJfgChx/Jlf+0EGI+Wv1XPNvYieZm+Ptf+SP+059kT+VSK/F4920mse6t0a6kWp7Z2IZHuRNrj2KGfV6qZvWhV9e5Us9cPnijWhcVVXUsSftkuQ+itlfbSFCK19+X098YL/WT1tk1tVDW919WpVrzzjkTaWOitpmrj6bvGRI8e2rpR2e9vcpHGAifhJowa2v7Fmf10qf34vQ61nTSph64+7hMb5rmFtUGWqTW00I23z2VmTTrry1Q3Y4fOPcud+MhOhz3YRzy24JEWfgusJ10mh7UXNx66tbZz3c3tausDn46cWWwc/a5P1RdTlZ1rPocjL9Y+Z+oiPEcWr1pMfA5P9CGM+yGTaDV66KUHKOMwM7riXBMLHLaGg3dklofAlt1CT0Pb9mi5J3q7lpv16KEX/lBGYV42q8c1CcWtX9gM8Mlgs8RCx+qNtqVUxySdraRZjh66DA83IUid/xPaJmvkRd8KTdgj2tLrs75i+0o5X81T6cprhQ6LqX/sa/8KbSvwGDbkc+ilHJZxkahs764V+mKk+9pF6J3Nk8Qn8zl0JvU6yia6q/ZXCv2dOe2hF0PLQxYms4ceKlFR2yfkX8PuPqIh9Fe7R7/l2cU2G1rWRdjbfCEOKeO8KWX7Wr9605FCX+7ThYQDUgjtHyoSv/Btr15Lv+Xt7fnlUeZpdyeHX/Nrhb78RLT1eGvzJYSufXH62WiuXb+rTLxZYieqRNsHafLiaqG7dCeH4eSj+l5a/wD00LFdTP0WTLQKd8O2unwjb3yO+Pq80ez77/6TQ1+c8ir783QIPan0RTioShX6ZKFvNW19CtnO4meTxbffeYTQF+fpX8Ie14e2iBoS2hl104e2fvTd6FK/E2N/BXgUenr/6JvLm/SVnELL5+pDOHs2YcX5l4D5ff4qVFa+EB5Gjvxt/8n/JSD0WAg9FkIDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7X/gaB/G7RTPvo9gAAAABJRU5ErkJggg==\"","import React from 'react';\nimport './MoviesList.scss';\nimport { MovieCard } from '../MovieCard';\nimport { MovieData } from '../../types/MovieData';\n\ntype Props = {\n  list: MovieData[];\n};\n\nexport const MoviesList: React.FC<Props> = ({ list }) => (\n  <div className=\"movies\">\n    {list.map(movie => (\n      <MovieCard\n        key={movie.imdbID}\n        film={movie}\n      />\n    ))}\n  </div>\n);\n","import { MovieData } from './types/MovieData';\n\nconst API_URL = 'https://www.omdbapi.com/?apikey=326fe605';\n\nexport async function getMovie(query: string): Promise<MovieData > {\n  const res = await fetch(`${API_URL}&t=${query}`);\n  const result = await res.json();\n\n  if (result.response === 'False') {\n    throw new Error(`${result.statusText}`);\n  }\n\n  return result;\n}\n","import { useState } from 'react';\nimport { getMovie } from '../../api';\nimport { MovieCard } from '../MovieCard';\nimport { MovieData } from '../../types/MovieData';\nimport './FindMovie.scss';\n\ntype Props = {\n  film: MovieData | null;\n  setFilm: React.Dispatch<React.SetStateAction<MovieData | null>>;\n  setList: React.Dispatch<React.SetStateAction<MovieData[]>>;\n  list: MovieData[];\n};\n\nexport const FindMovie: React.FC<Props> = (\n  {\n    setFilm,\n    film,\n    setList,\n    list,\n  },\n) => {\n  const [search, setSearch] = useState<string>('');\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = () => {\n    setLoading(true);\n    if (search === '') {\n      return;\n    }\n\n    getMovie(search)\n      .then(res => {\n        if (res?.Title === undefined) {\n          setError(true);\n        } else {\n          setFilm(res);\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <form\n        className=\"find-movie\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        <div className=\"field\">\n          <label className=\"label\" htmlFor=\"movie-title\">\n            Movie title\n          </label>\n\n          <div className=\"control\">\n            <input\n              data-cy=\"titleField\"\n              type=\"text\"\n              id=\"movie-title\"\n              placeholder=\"Enter a title to search\"\n              className=\"input is-dander\"\n              onChange={(e) => {\n                setError(false);\n                setSearch(e.target.value);\n              }}\n              value={search}\n            />\n          </div>\n          {\n            error\n            && (\n              <p className=\"help is-danger\" data-cy=\"errorMessage\">\n                Can&apos;t find a movie with such a title\n              </p>\n            )\n          }\n        </div>\n\n        <div className=\"field is-grouped\">\n          <div className=\"control\">\n            <button\n              data-cy=\"searchButton\"\n              type=\"submit\"\n              className={`button ${search === '' && 'is-light'} ${loading && 'is-loading'}`}\n              disabled={search === ''}\n            >\n              Find a movie\n            </button>\n          </div>\n          {\n            film !== null && (\n              <div className=\"control\">\n                <button\n                  data-cy=\"addButton\"\n                  type=\"button\"\n                  className=\"button is-primary\"\n                  onClick={() => {\n                    if (!list.find(el => el.imdbID === film.imdbID)) {\n                      setList((prev) => [...prev, film]);\n                    }\n\n                    setFilm(null);\n                    setSearch('');\n                  }}\n                >\n                  Add to the list\n                </button>\n              </div>\n            )\n          }\n        </div>\n      </form>\n\n      <div className=\"container\" data-cy=\"previewContainer\">\n        <h2 className=\"title\">Preview</h2>\n        {\n          film !== null && (\n            <MovieCard film={film} />\n          )\n        }\n      </div>\n    </>\n  );\n};\n","import { useState } from 'react';\nimport './App.scss';\nimport { MoviesList } from './components/MoviesList';\nimport { FindMovie } from './components/FindMovie';\nimport { MovieData } from './types/MovieData';\n\nexport const App = () => {\n  const [list, setList] = useState<MovieData[] >([]);\n  const [film, setFilm] = useState<MovieData | null>(null);\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-content\">\n        {\n          list.length > 0\n          && (<MoviesList list={list} />)\n        }\n\n      </div>\n\n      <div className=\"sidebar\">\n        <FindMovie\n          setFilm={setFilm}\n          film={film}\n          setList={setList}\n          list={list}\n        />\n      </div>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport 'bulma/css/bulma.css';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}